language: python
services:
  - postgresql
python:
  - 3.5
# command to install dependencies
install:
  - pip install -r requirements.txt
# command to run tests
before_script:
 - psql -c 'create database travis;' -U postgres
 - autopep8 --in-place --aggressive --recursive .
 - pep8 .
 - pyflakes .
 - autoflake --in-place --recursive --imports=django .

script:
  - python manage.py test home.tests

after_success:
 - curl -o /tmp/travis-automerge https://raw.githubusercontent.com/cdown/travis-automerge/master/travis-automerge
 - chmod a+x /tmp/travis-automerge
 - BRANCHES_TO_MERGE_REGEX='^dev' BRANCH_TO_MERGE_INTO=master GITHUB_REPO=sl33t/portfolio /tmp/travis-automerge